<html><head><title>Preparing the Scripts Directory (Practical mod_perl)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Stas Bekman and Eric Cholet" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00227-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Practical mod_perl" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">




<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_04.html"><img src="../images//txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch02_06.html"><img src="../images//txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">2.5. Preparing the Scripts Directory</h2>

<p>Now you
have<a name="pmodperl-CHP-2-ITERM-3452" /><a name="pmodperl-CHP-2-ITERM-3453" /><a name="pmodperl-CHP-2-ITERM-3454" /> to select a directory where all the
mod_perl scripts and modules will be placed. We usually create a
directory called <em class="emphasis">modperl</em> under our home
directory for this purpose (e.g.,
<em class="emphasis">/home/stas/modperl</em>), but it is also common to
create a directory called <em class="emphasis">perl</em> under your Apache
server root, such as <em class="emphasis">/usr/local/apache/perl</em>.</p>

<p>First create this
<a name="pmodperl-CHP-2-ITERM-3455" /><a name="pmodperl-CHP-2-ITERM-3456" />directory if it doesn't
yet exist:</p>

<blockquote><pre class="code">panic% mkdir /home/stas/modperl</pre></blockquote>

<p>Next, set the <a name="pmodperl-CHP-2-ITERM-3457" /><a name="pmodperl-CHP-2-ITERM-3458" />file permissions. Remember
that when scripts are executed from a shell, they are being executed
with the permissions of the user's account. Usually,
you want to have read, write, and execute access for yourself, but
only read and execute permissions for the server. When the scripts
are run by Apache, however, the server needs to be able to read and
execute them. Apache runs under an account specified by the
<tt class="literal">User</tt> directive, typically
<em class="emphasis">nobody</em>. You can modify the
<tt class="literal">User</tt> directive to run the server under your
username, for example:</p>

<blockquote><pre class="code">User stas</pre></blockquote>

<p>Since the permissions on all files and directories should usually be
<tt class="literal">rwx------</tt>,<a href="#FOOTNOTE-13">[13]</a> set the directory permissions to:</p> <blockquote><a name="FOOTNOTE-13" /><p> [13]See the
<tt class="literal">chmod</tt> manpage for more information regarding octal
modes.</p> </blockquote>

<blockquote><pre class="code">panic% chmod 0700 /home/stas/modperl</pre></blockquote>

<p>Now no one but you and the server can access the files in this
directory. You should set the same permissions for all the files you
place under this directory. <a href="#FOOTNOTE-14">[14]</a></p> <blockquote><a name="FOOTNOTE-14" /><p> [14]You
don't need to set the <tt class="literal">x</tt> bit for
files that aren't going to be executed; mode
<tt class="literal">0600</tt> is sufficient for those files.</p>
</blockquote>

<p>If the server is running under the <em class="emphasis">nobody</em>
account, you have to set the permissions to
<tt class="literal">rwxr-xr-x</tt> or <tt class="literal">0755</tt> for your
files and directories. This is insecure, because other users on the
same machine can read your files.</p>

<blockquote><pre class="code">panic# chmod 0755  /home/stas/modperl</pre></blockquote>

<p>If you aren't running the server with your username,
you have to set these permissions for all the files created under
this directory so Apache can read and execute them.</p>

<p>In the following examples, we assume that you run the server under
your username, and hence we set the scripts'
permissions to <tt class="literal">0700</tt>.</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_04.html"><img src="../images//txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img src="../images//txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch02_06.html"><img src="../images//txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">2.4. Installing mod_perl for Windows</td><td align="center" valign="top" width="228"><a href="index/index.html"><img src="../images//index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">2.6. A Sample Apache::Registry Script</td></tr></table></div>
<hr width="684" align="left" />


<p><p><font size="-1"><a href="copyrght.html">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,92" href="../index.html"><area shape="rect" coords="89,1,204,113" href="../apache/index.html"><area shape="rect" coords="208,-1,296,136" href="../php/index.html"><area shape="rect" coords="301,-1,403,132" href="../modperl/index.html"><area shape="rect" coords="406,3,503,115" href="../mysql/index.html"><area shape="rect" coords="507,2,596,142" href="../lian/index.html"><area shape="rect" coords="600,1,690,127" href="../rlinux/index.html">
</map>

</body></html>