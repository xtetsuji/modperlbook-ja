<html><head><title>Architecture-Specific Compile Options (Practical mod_perl)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Stas Bekman and Eric Cholet" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00227-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Practical mod_perl" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">




<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch15_04.html"><img src="../images//txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch15_06.html"><img src="../images//txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">15.5. Architecture-Specific Compile Options</h2>

<p>When you build Apache and Perl, you can optimize the compiled
applications to take advantage of the benefits of your
machine's architecture.</p>

<p>Everything depends on the kind of compiler that you use, the kind of
CPU(s) you use, and your OS.</p>

<p>For example, if you use <em class="emphasis">gcc(1)</em>, you might want
to use <em class="emphasis">-march=pentium</em> if you have a Pentium CPU,
or <em class="emphasis">-march=pentiumpro</em> for PentiumPro and above.</p>

<p><em class="emphasis">-fomit-frame-pointer</em> makes an extra register
available but disables debugging. You can also try these options,
which have been reported to improve performance:
<em class="emphasis">-ffast-math</em>,
<em class="emphasis">-malign-double</em>,
<em class="emphasis">-funroll-all-loops</em>,
<em class="emphasis">-fno-rtti</em>, and
<em class="emphasis">-fno-exceptions</em>. See the
<em class="emphasis">gcc(1)</em> manpage for details about these.</p>

<p>You may also want to change the default <tt class="literal">-O2</tt> flag
to a flag with a higher number, such as <tt class="literal">-O3</tt>.
<tt class="literal">-OX</tt> (where <tt class="literal">X</tt> is a number
between 1 and 6) defines a collection of various optimization flags;
the higher the number, the more flags are bundled. The
<em class="emphasis">gcc</em> manpage will tell you what flags are used
for each number. Test your applications thoroughly (and run the Perl
test suite!) when you change the default optimization flags,
especially when you go beyond <tt class="literal">-O2</tt>.
It's possible that the optimization will make the
code work incorrectly and/or cause segmentation faults.</p>

<p>See your preferred compiler's manpage and the
resources listed in the next section for detailed information about
optimization.</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch15_04.html"><img src="../images//txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.html"><img src="../images//txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch15_06.html"><img src="../images//txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">15.4. Perl Build Options</td><td align="center" valign="top" width="228"><a href="index/index.html"><img src="../images//index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">15.6. References</td></tr></table></div>
<hr width="684" align="left" />


<p><p><font size="-1"><a href="copyrght.html">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,92" href="../index.html"><area shape="rect" coords="89,1,204,113" href="../apache/index.html"><area shape="rect" coords="208,-1,296,136" href="../php/index.html"><area shape="rect" coords="301,-1,403,132" href="../modperl/index.html"><area shape="rect" coords="406,3,503,115" href="../mysql/index.html"><area shape="rect" coords="507,2,596,142" href="../lian/index.html"><area shape="rect" coords="600,1,690,127" href="../rlinux/index.html">
</map>

</body></html>